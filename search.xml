<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>复数 (II)</title>
    <url>/post/complex-numbers-2/</url>
    <content><![CDATA[复数 (II)
(4) 复变函数
本章中，kkk 表示任意整数 .
4.1 复数的开方运算
一般地，如果复数 www 满足 wn=z(n∈N∗,z∈C)w^n=z(n\in\Bbb{N}^*,z\in\Bbb{C})wn=z(n∈N∗,z∈C)，那么 www 叫作 zzz 的一个 nnn 次方根，记作 w=znw=\sqrt[n]{z}w=nz​ .
设 zzz 和 www 的三角形式为 z=r(cos⁡θ+isin⁡θ),w=ρ(cos⁡φ+isin⁡φ)z=r(\cos\theta+\text{i}\sin\theta),w=\rho(\cos\varphi+\text{i}\sin\varphi)z=r(cosθ+isinθ),w=ρ(cosφ+isinφ)，则根据棣莫弗公式有
[ρ(cos⁡φ+isin⁡φ)]n=r(cos⁡θ+isin⁡θ) ,ρn(cos⁡nφ+isin⁡nφ)=r(cos⁡θ+isin⁡θ) .\begin{aligned}
\big[\rho(\cos\varphi+\text{i}\sin\varphi)\big]^n &amp;= r(\cos\theta+\text{i}\sin\theta) ~, \\
\rho^n(\cos n\varphi+\text{i}\sin n\varphi) &amp;= r(\cos\theta+\text{i}\sin\theta) ~.
\end{aligned}
[ρ(cosφ+isinφ)]nρn(cosnφ+isinnφ)​=r(cosθ+isinθ) ,=r(cosθ+isinθ) .​
则
{ρn=r  ⟹  ρ=rn ,nφ=θ+2kπ  ⟹  φ=θn+k⋅2πn .\begin{cases}
\rho^n = r \implies \rho=\sqrt[n]{r} ~, \\
n\varphi = \theta+2k\pi \implies \varphi=\frac{\theta}{n}+k\cdot\frac{2\pi}{n} ~.
\end{cases}
{ρn=r⟹ρ=nr​ ,nφ=θ+2kπ⟹φ=nθ​+k⋅n2π​ .​
即
w=ρ(cos⁡φ+isin⁡φ)=rn[cos⁡(θn+k⋅2πn)+isin⁡(θn+k⋅2πn)] .w=\rho(\cos\varphi+\text{i}\sin\varphi)=\sqrt[n]{r}\left[\cos\left(\frac{\theta}{n}+k\cdot\frac{2\pi}{n}\right)+\text{i}\sin\left(\frac{\theta}{n}+k\cdot\frac{2\pi}{n}\right)\right] ~.
w=ρ(cosφ+isinφ)=nr​[cos(nθ​+k⋅n2π​)+isin(nθ​+k⋅n2π​)] .
由于 ρ,r∈(R+∪{0})\rho,r\in(\Bbb{R}_+\cup\{0\})ρ,r∈(R+​∪{0})，故 ρ\rhoρ 有唯一值 .
容易发现，当 kkk 取 0,1,2,…,n−10,1,2,\dots,n-10,1,2,…,n−1 时，www 有 nnn 个不同的值 .
再观察这 nnn 个值的辐角，它们分别为 θn,θn+2πn,…,θn+(n−1)2πn\frac{\theta}{n},\frac{\theta}{n}+\frac{2\pi}{n},\dots,\frac{\theta}{n}+(n-1)\frac{2\pi}{n}nθ​,nθ​+n2π​,…,nθ​+(n−1)n2π​ . 容易发现，相邻两数的辐角都差 2πn\frac{2\pi}{n}n2π​ . 又知它们的模都为 ρ=rn\rho=\sqrt[n]{r}ρ=nr​，故这 nnn 个数在复平面上平分以原点 OOO 为圆心、半径为 ρ=rn\rho=\sqrt[n]{r}ρ=nr​ 的圆周 .

例 1：i3={cos⁡π6+isin⁡π6,cos⁡5π6+isin⁡5π6,cos⁡3π2+isin⁡3π2}={32+12i,−32+12i,−i}\sqrt[3]{\text{i}} = \left\{\cos\frac{\pi}{6}+\text{i}\sin\frac{\pi}{6},\cos\frac{5\pi}{6}+\text{i}\sin\frac{5\pi}{6},\cos\frac{3\pi}{2}+\text{i}\sin\frac{3\pi}{2}\right\} = \left\{\frac{\sqrt{3}}{2}+\frac{1}{2}\text{i},-\frac{\sqrt{3}}{2}+\frac{1}{2}\text{i},-\text{i}\right\}3i​={cos6π​+isin6π​,cos65π​+isin65π​,cos23π​+isin23π​}={23​​+21​i,−23​​+21​i,−i} .
这 333 个解在复平面中的点如图 4-1 所示 .

例 2：325={2,2ei2π5,2ei4π5,2ei6π5,2ei8π5}\sqrt[5]{32} = \left\{2,2\text{e}^{\text{i}\frac{2\pi}{5}},2\text{e}^{\text{i}\frac{4\pi}{5}},2\text{e}^{\text{i}\frac{6\pi}{5}},2\text{e}^{\text{i}\frac{8\pi}{5}}\right\}532​={2,2ei52π​,2ei54π​,2ei56π​,2ei58π​} .
这 555 个解在复平面中的点如图 4-2 所示 .


4.2 复变函数的定义 代数基本定理
回顾上一节的内容 . 如果我们定义一个函数 f(z)=znf(z)=\sqrt[n]{z}f(z)=nz​（nnn 是常数且 n∈Zn\in\Bbb{Z}n∈Z），容易发现，对于一个复数 zzz，f(z)f(z)f(z) 不只有 111 个值，而是有 nnn 个值 . 这样的函数叫什么呢？
一般地，设 AAA 是一个复数集，∀z∈A\forall z\in A∀z∈A，通过一个确定的规则 fff 有一个或若干个复数 www 与之对应，就说在复数集 AAA 上定义了一个复变函数 (complex function)，记为 w=f(z)w=f(z)w=f(z) .
容易从定义中看到，一个复变函数 w=f(z)w=f(z)w=f(z) 可能对于同一个数 zzz 有多个值 . 其实实变函数中也有许多多值函数的例子，如 sin⁡x\sin xsinx 的反函数 x=sin⁡yx=\sin yx=siny（注意不是 arcsin⁡x\arcsin xarcsinx），其定义域为 [0,1][0,1][0,1]，就是一个多值函数：

引入了复数的幂与根后，实数的多项式方程（一元 nnn 次方程）可以被推广 .
对于一元 nnn 次方程 anxn+an−1xn−1+an−2xn−2+⋯+a2x2+a1x+a0=0a_nx^n+a_{n-1}x^{n-1}+a_{n-2}x^{n-2}+\cdots+a_2x^2+a_1x+a_0=0an​xn+an−1​xn−1+an−2​xn−2+⋯+a2​x2+a1​x+a0​=0，现在 aaa 可以是复数了；其解 xxx 也可以是复数了 . 同时，一些原来在实数域中无解的方程有了解 .
如一元二次方程 ax2+bx+c=0(a,b,c∈C)ax^2+bx+c=0 (a,b,c\in\Bbb{C})ax2+bx+c=0(a,b,c∈C)，其两根为 x=−b+b2−4ac2ax=\dfrac{-b+\sqrt{b^2-4ac}}{2a}x=2a−b+b2−4ac​​，其中的平方根有两个值，故有两个解 .
高斯 (Gauss) 1799 年第一次证明了代数基本定理 (Fundamental theorem of algebra) . 其说明：任何一个一元复系数多项式方程都至少有一个复数根 . 或：任何一个非零的一元 nnn 次复系数多项式，都正好有 nnn 个复数根（重根视为多个根）.

该定理的证明较为困难 . 但是，我们可以从复数的开方运算中获得一个直观的认识 .
4.3 复变指数函数
4.3.1 实变指数函数
欧拉指出的指数函数 exp⁡x\exp xexpx 定义：
exp⁡x=lim⁡n→∞(1+xn)n\exp x = \lim_{n\to\infty}\left(1+\frac{x}{n}\right)^n
expx=n→∞lim​(1+nx​)n
由于有 e=lim⁡n→∞(1+1n)n,lim⁡n→∞((1+1n)n)x=lim⁡n→∞(1+xn)\text{e}=\lim\limits_{n\to\infty}\left(1+\frac{1}{n}\right)^n,\lim\limits_{n\to\infty}\left(\left(1+\frac{1}{n}\right)^n\right)^x=\lim\limits_{n\to\infty}\left(1+\frac{x}{n}\right)e=n→∞lim​(1+n1​)n,n→∞lim​((1+n1​)n)x=n→∞lim​(1+nx​)，故
ex=exp⁡x .\text{e}^x = \exp x ~. 
ex=expx .
实变指数函数具有以下性质：

(ex)′=ex\left(\text{e}^x\right)&#x27;=\text{e}^x(ex)′=ex，即 exp⁡′x=exp⁡x\exp&#x27;x=\exp xexp′x=expx，其处处可导；
ax=exln⁡aa^x=\text{e}^{x\ln a}ax=exlna；
ex+y=exeye^{x+y}=e^xe^yex+y=exey，即 exp⁡(x+y)=exp⁡xexp⁡y\exp(x+y)=\exp x\exp yexp(x+y)=expxexpy；
exy=(ex)ye^{xy}=\left(e^x\right)^yexy=(ex)y；即 exp⁡xy=exp⁡yx\exp xy=\exp^y xexpxy=expyx；
e−x=1exe^{-x}=\frac{1}{e^x}e−x=ex1​，即 exp⁡(−x)=1exp⁡x\exp(-x)=\frac{1}{\exp x}exp(−x)=expx1​ .

它们对任意 x,y∈Rx,y\in\Bbb{R}x,y∈R 都是有效的 .
4.3.2 复变指数函数
我们试图把 exp⁡x\exp xexpx 推广到复数域 .
设此函数为 f(z)f(z)f(z) . 我们希望它与实变的指数函数 exp⁡x\exp xexpx 具有相似的性质 . 具体来说：

f(z)f(z)f(z) 处处可导；
f′(z)=f(z)f&#x27;(z)=f(z)f′(z)=f(z)；
f(x0)=ex0f(x_0)=\text{e}^{x_0}f(x0​)=ex0​

这个函数存在且唯一 . 我们将其称为复变指数函数 (complex exponential function)，记作 exp⁡(x+iy) (x,y∈R)\exp (x+\text{i}y)~(x,y\in\Bbb{R})exp(x+iy) (x,y∈R) . 有
exp⁡(x+iy)=ex(cos⁡y+isin⁡y)=exeiy .\exp (x+\text{i}y)=\text{e}^x(\cos y+\text{i}\sin y)=\text{e}^x\text{e}^{\text{i}y} ~.
exp(x+iy)=ex(cosy+isiny)=exeiy .
验证，可知其满足上述条件 . （我也不会，反正是对的）
对于指数函数，有重要等式 eaeb=ea+b\text{e}^a\text{e}^b=\text{e}^{a+b}eaeb=ea+b .
验证可得：
exp⁡z1⋅exp⁡z2=ex1eiy1ex2eiy2=ex1+x2ei(y1+y2)=exp⁡(z1+z2)\exp z_1\cdot\exp z_2 = \text{e}^{x_1}\text{e}^{\text{i}y_1}\text{e}^{x_2}\text{e}^{\text{i}y_2}=\text{e}^{x_1+x_2}\text{e}^{\text{i}(y_1+y_2)}=\exp(z_1+z_2)
expz1​⋅expz2​=ex1​eiy1​ex2​eiy2​=ex1​+x2​ei(y1​+y2​)=exp(z1​+z2​)
可以发现，这个函数的性质与实变指数函数的性质几乎一模一样 . 那么，在不引起歧义的情况下，我们就用 ez\text{e}^zez 来表示 exp⁡z\exp zexpz，即：
ez=exp⁡z .\text{e}^z = \exp z ~.
ez=expz .
要注意此处 ez\text{e}^zez 只是代替 exp⁡z\exp zexpz 的一种写法，不能理解为 e\text{e}e 的 zzz 次幂 . 这是两个不同的概念 .
令 x=0x=0x=0，即得欧拉公式 eiθ=(cos⁡θ+isin⁡θ)\text{e}^{\text{i}\theta} = (\cos\theta+\text{i}\sin\theta)eiθ=(cosθ+isinθ) .

例：e2+i=e2ei\text{e}^{2+\text{i}} = \text{e}^2\text{e}^{\text{i}}e2+i=e2ei . 这是一个模为 e2\text{e}^2e2，辐角为 1 rad1 ~\text{rad}1 rad 的数 .

4.4 复变对数函数
复变对数函数定义为指数函数的反函数 .
即，如果 ew=z\text{e}^w=zew=z，那么 www 关于 zzz 的函数就是复变对数函数 (complex logarithm function)，记作 w=Ln⁡zw=\operatorname{Ln}zw=Lnz .
已知 z=reiθz=r\text{e}^{\text{i}\theta}z=reiθ，我们来求一下 www .
设 w=a+biw=a+b\text{i}w=a+bi，则有
ea+bi=reiθ ,eaebi=reiθ .\begin{aligned}
\text{e}^{a+b\text{i}} &amp;= r\text{e}^{i\theta} ~, \\
\text{e}^a\text{e}^{b\text{i}} &amp;= r\text{e}^{i\theta} ~.
\end{aligned}
ea+bieaebi​=reiθ ,=reiθ .​
则
{ea=r  ⟺  a=ln⁡r ,b=θ+2kπ .\begin{cases}
\text{e}^a=r \iff a=\ln r ~, \\
b=\theta+2k\pi ~.
\end{cases}
{ea=r⟺a=lnr ,b=θ+2kπ .​
故 w=Ln⁡z=ln⁡r+(θ+2kπ)iw=\operatorname{Ln}z=\ln r+(\theta+2k\pi)\text{i}w=Lnz=lnr+(θ+2kπ)i .
容易发现，对数函数 w=Ln⁡zw=\operatorname{Ln}zw=Lnz 也是一个多值函数，它的所有值在与实轴垂直的一条直线上 .
若 θ+2kπ=θ0=arg⁡z\theta+2k\pi=\theta_0=\arg zθ+2kπ=θ0​=argz，那么此时 www 的值称为 zzz 对数的主值 (principal value)，记作 ln⁡z\ln zlnz，有 ln⁡z=ln⁡r+θ0i\ln z = \ln r+\theta_0\text{i}lnz=lnr+θ0​i . 容易发现，Ln⁡z=ln⁡z+2kπi\operatorname{Ln}z=\ln z+2k\pi\text{i}Lnz=lnz+2kπi .
对于一个固定的 kkk，Ln⁡z\operatorname{Ln}zLnz 会变成一个单值函数，这时的 Ln⁡z\operatorname{Ln}zLnz 称为其的一个分支 (branch) . 主值也是它的一个分支 .
复变对数函数满足实变对数函数的某些性质 . 如：

Ln⁡(xy)=Ln⁡x+Ln⁡y\operatorname{Ln}(xy)=\operatorname{Ln}x+\operatorname{Ln}yLn(xy)=Lnx+Lny；
Ln⁡(xy)=Ln⁡x−Ln⁡y\operatorname{Ln}\left(\frac{x}{y}\right)=\operatorname{Ln}x-\operatorname{Ln}yLn(yx​)=Lnx−Lny .

但同时，某些性质不满足 . 如：

Ln⁡(xn)≠nLn⁡x\operatorname{Ln}(x^n)\neq n\operatorname{Ln}xLn(xn)=nLnx（nnn 是大于 111 的正整数）

下面证明 Ln⁡(xn)≠nLn⁡x\operatorname{Ln}(x^n)\neq n\operatorname{Ln}xLn(xn)=nLnx：

证明：

下面举几个例子：

Ln⁡(−1)=ln⁡1+(π+2kπ)i=(2k+1)πi\operatorname{Ln}(-1)=\ln 1+(\pi+2k\pi)\text{i}=(2k+1)\pi\text{i}Ln(−1)=ln1+(π+2kπ)i=(2k+1)πi
Ln⁡(1+i)=ln⁡2+(π4+2kπ)i=ln⁡22+(π4+2kπ)i\operatorname{Ln}(1+\text{i})=\ln\sqrt{2}+\left(\frac{\pi}{4}+2k\pi\right)\text{i}=\frac{\ln 2}{2}+\left(\frac{\pi}{4}+2k\pi\right)\text{i}Ln(1+i)=ln2​+(4π​+2kπ)i=2ln2​+(4π​+2kπ)i

4.5 复数的复数次幂
有了复数的指数函数和对数函数，我们就可以定义复数的乘幂了 .
如果 a,b∈Ca,b\in\Bbb{C}a,b∈C，那么我们定义 ab=ebLn⁡a=exp⁡(bLn⁡a)a^b=\text{e}^{b\operatorname{Ln}a}=\exp(b\operatorname{Ln}a)ab=ebLna=exp(bLna) . 注意到这里的 ez\text{e}^zez 为指数函数 exp⁡z\exp zexpz .
Ln⁡a\operatorname{Ln}aLna 是多值的，bLn⁡ab\operatorname{Ln}abLna 就是多值的，所以整体也就是多值的 .
到这就可以理解为什么 ez\text{e}^zez 理解为指数函数和幂是不一样的了 . 举个例子：

exp⁡i=cos⁡1+isin⁡1\exp\text{i} = \cos 1+\text{i}\sin 1expi=cos1+isin1；
ei=exp⁡(iLn⁡e)=exp⁡[i(ln⁡e+2kπi)]=exp⁡(i+2kπ)=(cos⁡1+sin⁡1)e2kπ\text{e}^{\text{i}} = \exp(i\operatorname{Ln}\text{e}) = \exp\big[\text{i}(\ln\text{e}+2k\pi\text{i})\big] = \exp(\text{i}+2k\pi) = (\cos 1+\sin 1)e^{2k\pi}ei=exp(iLne)=exp[i(lne+2kπi)]=exp(i+2kπ)=(cos1+sin1)e2kπ .
显然这两个式子的值完全不同 .

事实上，在这种乘幂的定义下，只要底数 a≠0a\neq 0a=0：

指数 b∈Zb\in\Bbb{Z}b∈Z 时，aba^bab 单值；
指数 b∈Qb\in\Bbb{Q}b∈Q 时，若 b=pq(p,q∈Z,gcd⁡(p,q)=1)b=\frac{p}{q} (p,q\in\Bbb{Z},\gcd(p,q)=1)b=qp​(p,q∈Z,gcd(p,q)=1)，aba^bab 有 qqq 个值；
指数 bbb 为其他数（无理数或虚数）时，aba^bab 有无穷多个值 .
比如 1π,(1+i)23,ii,(2+i)1+2i1^\pi,(1+\text{i})^{\sqrt[3]{2}},\text{i}^\text{i},(2+\text{i})^{1+2\text{i}}1π,(1+i)32​,ii,(2+i)1+2i 都有无穷多个值 .
其中有趣的是，计算可得 ii=exp⁡(iLn⁡i)=exp⁡[i(π2+2kπ)i]=exp⁡(−π2+2kπ)∈R\text{i}^\text{i} = \exp(\text{i}\operatorname{Ln}\text{i}) = \exp\left[\text{i}\left(\frac{\pi}{2}+2k\pi\right)\text{i}\right]=\exp\left(-\frac{\pi}{2}+2k\pi\right)\in\Bbb{R}ii=exp(iLni)=exp[i(2π​+2kπ)i]=exp(−2π​+2kπ)∈R .

下面逐个证明上面三条 .

设 a=reiθa=r\text{e}^{\text{i}\theta}a=reiθ .

(1) 指数 b∈Zb\in\Bbb{Z}b∈Z 时，aba^bab 单值 .

证明：当 b∈Zb\in\Bbb{Z}b∈Z 时，有：
ab=exp⁡(bLn⁡a)=exp⁡(b(ln⁡r+(θ+2kπ)i))=exp⁡(bln⁡r+b(θ+2kπ)i)=ebln⁡rei(bθ+b⋅2kπ)∵b∈Z,∴ab=ebln⁡reibθ\begin{aligned}
a^b
&amp;= \exp(b\operatorname{Ln}a) \\
&amp;= \exp\left(b\left(\ln r+\left(\theta+2k\pi\right)\text{i}\right)\right) \\
&amp;= \exp(b\ln r+b(\theta+2k\pi)\text{i}) \\
&amp;= \text{e}^{b\ln r}\text{e}^{\text{i}(b\theta+b\cdot 2k\pi)} \\
\because b\in\Bbb{Z},\therefore a^b
&amp;= \text{e}^{b\ln r}\text{e}^{\text{i}b\theta}
\end{aligned}
ab∵b∈Z,∴ab​=exp(bLna)=exp(b(lnr+(θ+2kπ)i))=exp(blnr+b(θ+2kπ)i)=eblnrei(bθ+b⋅2kπ)=eblnreibθ​
结果唯一 . 证毕 .

(2) 指数 b∈Qb\in\Bbb{Q}b∈Q 时，若 b=pq(p,q∈Z,gcd⁡(p,q)=1)b=\frac{p}{q} (p,q\in\Bbb{Z},\gcd(p,q)=1)b=qp​(p,q∈Z,gcd(p,q)=1)，aba^bab 有 qqq 个值 .

证明：当 b=pq∈Q (p,q∈Z,gcd⁡(p,q)=1)b=\frac{p}{q}\in\Bbb{Q}~(p,q\in\Bbb{Z},\gcd(p,q)=1)b=qp​∈Q (p,q∈Z,gcd(p,q)=1) 时，有
ab=exp⁡(bLn⁡a)=exp⁡(pq(ln⁡r+(θ+2kπ)))=exp⁡(pln⁡r+p(θ+2kπ)iq)=exp⁡(pln⁡rq+p(θ+2kπ)iq)=epln⁡rq⋅ei(pqθ+pk⋅2πq)\begin{aligned}
a^b
&amp;= \exp(b\operatorname{Ln}a) \\
&amp;= \exp\left(\frac{p}{q}\left(\ln r+\left(\theta+2k\pi\right)\right)\right) \\
&amp;= \exp\left(\frac{p\ln r+p\left(\theta+2k\pi\right)\text{i}}{q}\right) \\
&amp;= \exp\left(\frac{p\ln r}{q}+\frac{p\left(\theta+2k\pi\right)\text{i}}{q}\right) \\
&amp;= \text{e}^{\frac{p\ln r}{q}}\cdot\text{e}^{\text{i}\left(\frac{p}{q}\theta+pk\cdot\frac{2\pi}{q}\right)}
\end{aligned}
ab​=exp(bLna)=exp(qp​(lnr+(θ+2kπ)))=exp(qplnr+p(θ+2kπ)i​)=exp(qplnr​+qp(θ+2kπ)i​)=eqplnr​⋅ei(qp​θ+pk⋅q2π​)​
epln⁡rq\text{e}^{\frac{p\ln r}{q}}eqplnr​ 是实数域内的计算，值唯一；ei(pqθ+pk⋅2πq)\text{e}^{\text{i}\left(\frac{p}{q}\theta+pk\cdot\frac{2\pi}{q}\right)}ei(qp​θ+pk⋅q2π​) 中，由于 gcd⁡(p,q)=1\gcd(p,q)=1gcd(p,q)=1，故有 qqq 个不同值 . 故该式整体上有 qqq 个不同值 . 证毕 .

(3) 指数 bbb 为其他数（无理数或虚数）时，aba^bab 有无穷多个值 .

证明略 . 显而易见 .

4.6 复变三角函数与双曲函数
to do.
]]></content>
      <categories>
        <category>notes</category>
      </categories>
  </entry>
  <entry>
    <title>复数 (I)</title>
    <url>/post/complex-numbers/</url>
    <content><![CDATA[复数 (I)
(0) 数集的扩充
自人类诞生以来，数的概念就在不断地发展着 .
为了计数的需要，人们发展了自然数集的概念，建立了自然数集 N\Bbb{N}N .
在自然数集 N\Bbb{N}N 中，加法与乘法总能实施 . 但是，小数不能减大数，方程 x+6=0x+6=0x+6=0 无解 . 由此引入负数，数集扩展到整数集 Z\Bbb{Z}Z .
在整数集 Z\Bbb{Z}Z 中，加法、减法与乘法总能实施 . 但是，由于除法只能解决整除的问题，方程 3x−2=03x-2=03x−2=0 无解 . 由此引入分数，数集扩展到有理数集 Q\Bbb{Q}Q .
在有理数集 Q\Bbb{Q}Q 中，加法、减法、乘法与除法（除数不为 000）总能实施 . 但是，开方的结果可能不是有理数，方程 x2−2=0x^2-2=0x2−2=0 无解 . 由此引入无理数，数集扩展到实数集 R\Bbb{R}R .
在实数集 R\Bbb{R}R 中，加法、减法、乘法与除法（除数不为 000）总能实施，并解决了正数的开方问题 .
现在在实数集 R\Bbb{R}R 中，我们又面临着方程 x2+1=0x^2+1=0x2+1=0 无解，负数不能开平方的问题 . 这表明，数的概念仍需要进一步发展 .
(1) 定义
为了使得方程 x2+1=0x^2+1=0x2+1=0 有解，使实数的开方运算总能实施，我们引入一个新数 i\text{i}i，叫做虚数单位 (imaginary unit)，并规定：

i2=−1\text{i}^2=-1i2=−1；
实数可与 i\text{i}i 进行四则运算，且原有的加法、乘法运算律仍成立 .

从而，i\text{i}i 可与实数 bbb 相乘，再与实数 aaa 相加，得到一个数 a+bia+b\text{i}a+bi .
这样，数的范围又扩充了，出现了形如 a+bi(a,b∈R)a+b\text{i}(a,b\in\Bbb{R})a+bi(a,b∈R) 的数，这种树叫做复数 (complex number)，全体复数组成的集合叫做复数集 (set of complex numbers)，记作 C\Bbb{C}C . 显然有 N⊆Z⊆Q⊆R⊆C\Bbb{N}\subseteq\Bbb{Z}\subseteq\Bbb{Q}\subseteq\Bbb{R}\subseteq\Bbb{C}N⊆Z⊆Q⊆R⊆C .
复数通常用字母 zzz 表示，即 z=a+bi(a,b∈R)z=a+b\text{i}(a,b\in\Bbb{R})z=a+bi(a,b∈R)，其中 aaa 和 bbb 分别叫做复数 zzz 的实部 (real part) 和虚部 (imaginary part)，记作 Re⁡z,ℜz,Rz\operatorname{Re}z,\Re z,\mathfrak{R} zRez,ℜz,Rz 与 Im⁡z,ℑz,Iz\operatorname{Im}z,\Im z,\mathfrak{I} zImz,ℑz,Iz . 其中，国标要求为 Re⁡z\operatorname{Re}zRez 与 Im⁡z\operatorname{Im}zImz . 下文为简便，使用 ℜz\Re zℜz 与 ℑz\Im zℑz .
当且仅当 b=ℑz=0b=\Im z=0b=ℑz=0 时，z∈Rz\in \Bbb{R}z∈R . 当 b=ℑz≠0b=\Im z\neq 0b=ℑz=0 时，zzz 叫作虚数 (imaginary number) .
特别地，当 a=ℜz=0a=\Re z=0a=ℜz=0 且 b=ℑz≠0b=\Im z\neq 0b=ℑz=0 时，zzz 叫作纯虚数 (pure imaginary number) .
即
复数 z=a+bi{实数(b=0),虚数(b≠0) (当 a=0 时为纯虚数) .\text{复数} ~ z=a+b\text{i} \begin{cases}
\text{实数} &amp; (b=0),\\
\text{虚数} &amp; (b\neq 0)~(\text{当}~a=0~\text{时为纯虚数}) ~.
\end{cases}
复数 z=a+bi{实数虚数​(b=0),(b=0) (当 a=0 时为纯虚数) .​
如果两个复数的实部与虚部分别相等，那么我们就说这两个复数相等，即
z1=z2  ⟺  ℜz1=ℜz2 且 ℑz1=ℑz2 .z_1=z_2 \iff \Re z_1=\Re z_2 ~\text{且}~ \Im z_1=\Im z_2 ~. 
z1​=z2​⟺ℜz1​=ℜz2​ 且 ℑz1​=ℑz2​ .
或
a+bi=c+di  ⟺  a=c 且 b=d .a+b\text{i}=c+d\text{i} \iff a=c ~\text{且}~ b=d ~. 
a+bi=c+di⟺a=c 且 b=d .
也就是说

两个复数相等的充要条件是它们的实部和虚部分别相等 .

(2) 复数的运算
本节中，a,b,c,d∈Ra,b,c,d\in\Bbb{R}a,b,c,d∈R .
已经知道虚数单位 i\text{i}i 与实数一起可以按照实数的运算法则进行运算 .
2.1 复数的加减 相反数
设 z1=a+bi,z2=c+diz_1=a+b\text{i},z_2=c+d\text{i}z1​=a+bi,z2​=c+di，复数的加法如此计算：
(a+bi)+(c+di)=(a+c)+(b+d)i .(a+b\text{i})+(c+d\text{i})=(a+c)+(b+d)\text{i} ~. 
(a+bi)+(c+di)=(a+c)+(b+d)i .
显然，两个复数的和仍为复数 .
容易验证，复数的加法满足交换律与结合律，即 ∀z1,z2,z3∈C\forall z_1,z_2,z_3\in\Bbb{C}∀z1​,z2​,z3​∈C，有
z1+z2=z2+z1 ,(z1+z2)+z3=z1+(z2+z3) .\begin{aligned}
z_1+z_2 &amp; = z_2+z_1 ~,\\
(z_1+z_2)+z_3 &amp; = z_1+(z_2+z_3) ~.
\end{aligned}
z1​+z2​(z1​+z2​)+z3​​=z2​+z1​ ,=z1​+(z2​+z3​) .​
我们将满足 (c+di)+(x+yi)=a+bi(c+d\text{i})+(x+y\text{i})=a+b\text{i}(c+di)+(x+yi)=a+bi 的复数 x+yi(x,y∈R)x+y\text{i} (x,y\in\Bbb{R})x+yi(x,y∈R) 叫作复数 a+bia+b\text{i}a+bi 减去复数 c+dic+d\text{i}c+di 所得的差，记作
(a+bi)−(c+di) .(a+b\text{i})-(c+d\text{i}) ~. 
(a+bi)−(c+di) .
明显有
c+x=a,d+y=b,c+x=a,d+y=b , 
c+x=a,d+y=b,
即
x=a−c,y=b−d,x=a-c,y=b-d , 
x=a−c,y=b−d,
所以
x+yi=(a−c)+(b−d)i .x+y\text{i}=(a-c)+(b-d)\text{i} ~. 
x+yi=(a−c)+(b−d)i .
于是得到复数的减法法则：
(a+bi)−(c+di)=(a−c)+(b−d)i .(a+b\text{i})-(c+d\text{i})=(a-c)+(b-d)\text{i} ~. 
(a+bi)−(c+di)=(a−c)+(b−d)i .
类似于实数，定义复数 z=a+biz=a+b\text{i}z=a+bi 的相反数 −z=−a−bi-z=-a-b\text{i}−z=−a−bi .
那么复数的减法法则也可以是：(z1,z2∈C)(z_1,z_2\in\Bbb{C})(z1​,z2​∈C)
z1−z2=z1+(−z2) .z_1-z_2=z_1+(-z_2) ~. 
z1​−z2​=z1​+(−z2​) .
2.2 复数的乘法与正整数次幂
复数的乘法这样计算：
(a+bi)(c+di)=ac+adi+bci+bdi2,(a+b\text{i})(c+d\text{i})=ac+ad\text{i}+bc\text{i}+bd\text{i}^2 , 
(a+bi)(c+di)=ac+adi+bci+bdi2,
即
(a+bi)(c+di)=(ac−bd)+(bc+ad)i .(a+b\text{i})(c+d\text{i})=(ac-bd)+(bc+ad)\text{i} ~. 
(a+bi)(c+di)=(ac−bd)+(bc+ad)i .
显然，两个复数的积仍为复数 .
容易验证，复数的乘法满足交换律、结合律以及分配律，即 ∀z1,z2,z3∈C\forall z_1,z_2,z_3\in\Bbb{C}∀z1​,z2​,z3​∈C，有
z1z2=z2z1 ,(z1z2)z3=z1(z2z3) ,z1(z2+z3)=z1z2+z1z3 .\begin{aligned}
z_1z_2 &amp; = z_2z_1 ~,\\
(z_1z_2)z_3 &amp; = z_1(z_2z_3) ~,\\
z_1(z_2+z_3) &amp; = z_1z_2+z_1z_3 ~.
\end{aligned}
z1​z2​(z1​z2​)z3​z1​(z2​+z3​)​=z2​z1​ ,=z1​(z2​z3​) ,=z1​z2​+z1​z3​ .​
复数的乘方是相同复数的积 . 根据复数乘法运算律，实数内正整数指数幂的运算律在复数范围内仍成立，即对于任何 z,z1,z2∈C,m,n∈N∗z,z_1,z_2\in\Bbb{C},m,n\in\Bbb{N}^*z,z1​,z2​∈C,m,n∈N∗，有
zmzn=zm+n ,(zm)n=zmn ,(z1z2)n=z1nz2n .\begin{aligned}
z^mz^n &amp; = z^{m+n} ~,\\
(z^m)^n &amp; = z^{mn} ~,\\
(z_1z_2)^n &amp; = z_1^nz_2^n ~.
\end{aligned}
zmzn(zm)n(z1​z2​)n​=zm+n ,=zmn ,=z1n​z2n​ .​
计算复数乘方时，需用到虚数单位 i\text{i}i 的乘方：
i1=i,i2=−1,i3=−i,i4=1  ⟹  i4n=1,i4n+1=i,i4n+2=−1,i4n+3=−i .\begin{aligned}
&amp; \text{i}^1=\text{i},\text{i}^2=-1,\text{i}^3=-\text{i},\text{i}^4=1\\
\implies &amp; \text{i}^{4n}=1,\text{i}^{4n+1}=\text{i},\text{i}^{4n+2}=-1,\text{i}^{4n+3}=-\text{i} ~.
\end{aligned}
⟹​i1=i,i2=−1,i3=−i,i4=1i4n=1,i4n+1=i,i4n+2=−1,i4n+3=−i .​
2.3 共轭复数与复数的除法
我们把实部相等，虚部互为相反数的两个复数叫作互为共轭复数 (complex conjugate) . 复数 z=a+biz=a+b\text{i}z=a+bi 的共轭复数记作 zˉ\bar zzˉ 或 conj⁡z\operatorname{conj}zconjz，即
zˉ=conj⁡z=a−bi\bar z = \operatorname{conj} z = a-b\text{i} 
zˉ=conjz=a−bi
当 b=0b=0b=0 时，z=zˉz=\bar zz=zˉ . 也就是说，实数的共轭数是它本身 .
容易发现
zzˉ=(a+bi)(a−bi)=a2−b2i2=a2+b2 .z\bar z = (a+b\text{i})(a-b\text{i})=a^2-b^2\text{i}^2=a^2+b^2 ~. 
zzˉ=(a+bi)(a−bi)=a2−b2i2=a2+b2 .
我们把满足
(c+di)(x+yi)=a+bi (c+di≠0)(c+d\text{i})(x+y\text{i})=a+b\text{i} ~ (c+d\text{i}\neq 0) 
(c+di)(x+yi)=a+bi (c+di=0)
的复数 x+yi(x,y∈R)x+y\text{i}(x,y\in\Bbb{R})x+yi(x,y∈R) 叫作复数 a+bia+b\text{i}a+bi 除以 c+dic+d\text{i}c+di 所得的商，记作 a+bic+di\dfrac{a+b\text{i}}{c+d\text{i}}c+dia+bi​ 或 (a+bi)÷(c+di)(a+b\text{i})\div(c+d\text{i})(a+bi)÷(c+di) .
容易证明，z1z2=z1zz2z(z,z1,z2∈C 且 z,z2≠0)\dfrac{z_1}{z_2}=\dfrac{z_1z}{z_2z}(z,z_1,z_2\in\Bbb{C}~\text{且}~z,z_2\neq0)z2​z1​​=z2​zz1​z​(z,z1​,z2​∈C 且 z,z2​=0) .
一般地，我们有
a+bic+di=(a+bi)(c−di)(c+di)(c−di)=ac+bdc2+d2+bc−adc2+d2i .\frac{a+b\text{i}}{c+d\text{i}} = \frac{(a+b\text{i})(c-d\text{i})}{(c+d\text{i})(c-d\text{i})} = \frac{ac+bd}{c^2+d^2}+\frac{bc-ad}{c^2+d^2}\text{i} ~. 
c+dia+bi​=(c+di)(c−di)(a+bi)(c−di)​=c2+d2ac+bd​+c2+d2bc−ad​i .
因为 c+di≠0c+d\text{i}\neq 0c+di=0，所以 c2+d2≠0c^2+d^2\neq 0c2+d2=0 .
由此可见，两个复数的商仍为复数 .
由此也就可以定义复数 zzz 的倒数 1z\frac{1}{z}z1​ .
2.4 复数的整数次幂
类似于实数，复数 zzz 的负整数幂 z−m(m∈N∗)z^{-m}(m\in\Bbb{N}^*)z−m(m∈N∗) 定义为对应正整数幂的倒数，即
z−m=1zm .z^{-m}=\frac{1}{z^m} ~. 
z−m=zm1​ .
并且有 z0=1(z≠0)z^0=1(z\neq 0)z0=1(z=0) . 复数乘方满足实数乘方所有运算律 .
(3) 复数的几何意义
3.1 复平面 模与辐角
对于每一个复数 z=a+bi(a,b∈R)z=a+b\text{i} (a,b\in\Bbb{R})z=a+bi(a,b∈R)，都有唯一的数对 (a,b)(a,b)(a,b) 与其对应 . 同时，在直角坐标系中的每一个点，也都有唯一确定的数对 (a,b)(a,b)(a,b) 与其对应 .
因此，我们可以仿照直角坐标系，建立一个平面，将复数 z=a+biz=a+b\text{i}z=a+bi 与平面上的点一一对应 .

如图 3-1 . 这个平面叫作复平面 (complex plane) 或阿甘得图 (Argand diagram)，xxx 轴叫作实轴 (real axis)，yyy 轴叫作虚轴 (imaginary axis) . 显然，实轴上的点都表示实数；除原点外，虚轴上的点都表示虚数 . 容易发现，复平面实质上是数轴的扩展 .
可以发现，复数 z=a+biz=a+b\text{i}z=a+bi 同时与向量 OZ→\overrightarrow{OZ}OZ 一一对应，于是，我们也可以用一个向量 OZ→\overrightarrow{OZ}OZ 来表示复数 .
在此基础上，我们把向量 OZ→\overrightarrow{OZ}OZ 的模（即 ZZZ 到 OOO 的距离）rrr 称为复数 zzz 的模 (module)或强度 (magnitude)或绝对值 (absolute value)，用 ∣z∣\lvert z\rvert∣z∣ 表示 . 图 3-1 中 rrr 即为 zzz 的模 . 容易得到， ∣z∣=a2+b2\lvert z\rvert=\sqrt{a^2+b^2}∣z∣=a2+b2​，∣z∣∈R\lvert z\rvert\in\Bbb{R}∣z∣∈R 且 ∣z∣≥0\lvert z\rvert\ge 0∣z∣≥0 .
我们把实轴正半轴旋转到向量 OZ→\overrightarrow{OZ}OZ 方向的角 θ\thetaθ（或 φ\varphiφ）称为复数 zzz 的辐角 (argument)或相位 (phase)，记作 Arg⁡z\operatorname{Arg} zArgz . 容易发现，一个复数 zzz 的辐角有无穷多个，因此，我们将处在区间 [0,2π)[0,2\pi)[0,2π)（更常用的另一种区间为 (−π,π](-\pi,\pi](−π,π]）的辐角称为复数 zzz 的辐角主值 (principal value of argument)，记作 arg⁡z\arg zargz .
显然，每一个非零复数 z=a+biz=a+b\text{i}z=a+bi 都有唯一确定的模和辐角主值；反过来，复数模和辐角主值可以唯一确定这个复数 . 于是

两个非零复数相等的充要条件是这两个复数的模与辐角主值分别相等 .

即
z1=z2  ⟺  ∣z1∣=∣z2∣ 且 arg⁡z1=arg⁡z2 (z1,z2≠0) .z_1=z_2 \iff \lvert z_1\rvert=\lvert z_2\rvert ~\text{且}~ \arg z_1=\arg z_2 ~(z_1,z_2\neq 0) ~. 
z1​=z2​⟺∣z1​∣=∣z2​∣ 且 argz1​=argz2​ (z1​,z2​=0) .
复数 z=0z=0z=0 与原点 O(0,0)O(0,0)O(0,0) 对应，向量 OZ→=0\overrightarrow{OZ}=\mathbf{0}OZ=0，此时复数的模为 000，辐角是任意的 . 有时为了方便讨论，会规定 z=0z=0z=0 的辐角主值为 000 .
3.2 复数加减法的几何意义
如图 3-2，向量 OZ1→,OZ2→\overrightarrow{OZ_1},\overrightarrow{OZ_2}OZ1​​,OZ2​​ 分别与复数 a+bi,c+dia+b\text{i},c+d\text{i}a+bi,c+di 对应，且 OZ1→,OZ2→\overrightarrow{OZ_1},\overrightarrow{OZ_2}OZ1​​,OZ2​​ 不共线，以 OZ1→,OZ2→\overrightarrow{OZ_1},\overrightarrow{OZ_2}OZ1​​,OZ2​​ 为两条邻边画平行四边形，则对角线 OZOZOZ 所表示的向量 OZ→\overrightarrow{OZ}OZ 就是与复数 (a+c)+(b+d)i(a+c)+(b+d)\text{i}(a+c)+(b+d)i 对应的向量 . 这就是复数加法的几何意义 .

根据复数减法的定义以及复数加法的几何意义，可以得到复数减法的几何意义 .
如图 3-3，，若向量 OZ1→,OZ2→\overrightarrow{OZ_1},\overrightarrow{OZ_2}OZ1​​,OZ2​​ 分别与复数 z1,z2z_1,z_2z1​,z2​ 对应，则它们的差 z1−z2z_1-z_2z1​−z2​ 对应着 向量 OZ1→−OZ2→\overrightarrow{OZ_1}-\overrightarrow{OZ_2}OZ1​​−OZ2​​，即向量 Z2Z1→\overrightarrow{Z_2Z_1}Z2​Z1​​ .
如果作 OZ→=Z2Z1→\overrightarrow{OZ}=\overrightarrow{Z_2Z_1}OZ=Z2​Z1​​，那么点 ZZZ 对应的复数就是 z1−z2z_1-z_2z1​−z2​ . 这就是复数减法的几何意义 .

设 z1=a+bi,z2=c+diz_1=a+b\text{i},z_2=c+d\text{i}z1​=a+bi,z2​=c+di，则 z1−z2=(a−c)+(b−d)iz_1-z_2=(a-c)+(b-d)\text{i}z1​−z2​=(a−c)+(b−d)i，故
∣z1−z2∣=∣OZ→∣=∣Z2Z1→∣=(a−c)2+(b−d)2 .\lvert z_1-z_2 \rvert = \left\lvert \overrightarrow{OZ} \right\rvert = \left\lvert \overrightarrow{Z_2Z_1} \right\rvert = \sqrt{(a-c)^2+(b-d)^2} ~. 
∣z1​−z2​∣=​OZ​=​Z2​Z1​​​=(a−c)2+(b−d)2​ .
这表明：两个复数的差的模就是复平面内与这两个复数对应的两点间的距离 .
3.3 复数的三角形式
由图 3-1 易得（r=∣z∣,θ=Arg⁡zr=\lvert z\rvert,\theta=\operatorname{Arg} zr=∣z∣,θ=Argz）
a=rcos⁡θ,b=rsin⁡θ .a=r\cos\theta,b=r\sin\theta ~. 
a=rcosθ,b=rsinθ .
于是，可以得到 z=a+bi=rcos⁡θ+irsin⁡θ=r(cos⁡θ+isin⁡θ)z=a+b\text{i}=r\cos\theta+\text{i}r\sin\theta=r(\cos\theta+\text{i}\sin\theta)z=a+bi=rcosθ+irsinθ=r(cosθ+isinθ) . 这就是复数 zzz 的三角形式 (trigonometric form of complex numbers)，而 a+bia+b\text{i}a+bi 称为复数 zzz 的代数形式 (algebraic form of complex numbers) .
有时，会使用 cis⁡θ\operatorname{cis}\thetacisθ 代替 cos⁡θ+isin⁡θ\cos\theta+\text{i}\sin\thetacosθ+isinθ .
3.4 复数乘除法的几何意义 棣莫弗公式
设复数 z1=r1(cos⁡θ1+isin⁡θ1),z2=r2(cos⁡θ2+isin⁡θ2)z_1=r_1(\cos\theta_1+\text{i}\sin\theta_1),z_2=r_2(\cos\theta_2+\text{i}\sin\theta_2)z1​=r1​(cosθ1​+isinθ1​),z2​=r2​(cosθ2​+isinθ2​) . 若它们的乘积为 z=z1z2z=z_1z_2z=z1​z2​，且 z=r(cos⁡θ+isin⁡θ)z=r(\cos\theta+\text{i}\sin\theta)z=r(cosθ+isinθ)，则根据三角函数和角公式有
z=z1z2=r1(cos⁡θ1+isin⁡θ1)⋅r2(cos⁡θ2+isin⁡θ2)=r1r2(cos⁡θ1cos⁡θ2+icos⁡θ1sin⁡θ2+isin⁡θ1cos⁡θ2+i2sin⁡θ1sin⁡θ2)=r1r2[(cos⁡θ1cos⁡θ2−sin⁡θ1sin⁡θ2)+i(sin⁡θ1cos⁡θ2+cos⁡θ1sin⁡θ2)]=r1r2[cos⁡(θ1+θ2)+isin⁡(θ1+θ2)]\begin{aligned}
z=z_1z_2 &amp;= r_1(\cos\theta_1+\text{i}\sin\theta_1)\cdot r_2(\cos\theta_2+\text{i}\sin\theta_2) \\
&amp;= r_1r_2(\cos\theta_1\cos\theta_2+\text{i}\cos\theta_1\sin\theta_2+\text{i}\sin\theta_1\cos\theta_2+\text{i}^2\sin\theta_1\sin\theta_2) \\
&amp;= r_1r_2\big[(\cos\theta_1\cos\theta_2-\sin\theta_1\sin\theta_2)+\text{i}(\sin\theta_1\cos\theta_2+\cos\theta_1\sin\theta_2)\big] \\
&amp;= r_1r_2\big[\cos(\theta_1+\theta_2)+\text{i}\sin(\theta_1+\theta_2)\big] \\
\end{aligned}
z=z1​z2​​=r1​(cosθ1​+isinθ1​)⋅r2​(cosθ2​+isinθ2​)=r1​r2​(cosθ1​cosθ2​+icosθ1​sinθ2​+isinθ1​cosθ2​+i2sinθ1​sinθ2​)=r1​r2​[(cosθ1​cosθ2​−sinθ1​sinθ2​)+i(sinθ1​cosθ2​+cosθ1​sinθ2​)]=r1​r2​[cos(θ1​+θ2​)+isin(θ1​+θ2​)]​
上式称为棣莫弗公式 (De Moivre’s formula) 或棣莫弗定理 .于是可以得到
r=r1r2,θ=θ1+θ2 .r=r_1r_2,\theta=\theta_1+\theta_2 ~. 
r=r1​r2​,θ=θ1​+θ2​ .
即：

两个复数相乘，其积的模等于这两个复数的模的积，其积的辐角等于这两个复数的辐角的和 .

由此可得出复数乘法的几何意义 .
类似的，可以得出复数除法的几何意义 .
根据棣莫弗公式，设有 nnn 个复数 z1=r1(cos⁡θ1+isin⁡θ1),z2=r2(cos⁡θ2+isin⁡θ2),⋯ ,zn=rn(cos⁡θn+isin⁡θn)z_1=r_1(\cos\theta_1+\text{i}\sin\theta_1),z_2=r_2(\cos\theta_2+\text{i}\sin\theta_2),\cdots,z_n=r_n(\cos\theta_n+\text{i}\sin\theta_n)z1​=r1​(cosθ1​+isinθ1​),z2​=r2​(cosθ2​+isinθ2​),⋯,zn​=rn​(cosθn​+isinθn​)，则有：
z1z2⋯zn=r1r2⋯rn[cos⁡(θ1+θ2+⋯+θn)+isin⁡(θ1+θ2+⋯+θn)] .z_1z_2\cdots z_n = r_1r_2\cdots r_n\big[\cos(\theta_1+\theta_2+\cdots+\theta_n)+\text{i}\sin(\theta_1+\theta_2+\cdots+\theta_n)\big] ~. 
z1​z2​⋯zn​=r1​r2​⋯rn​[cos(θ1​+θ2​+⋯+θn​)+isin(θ1​+θ2​+⋯+θn​)] .
即：
∏∗i=1nzi=∏∗i=1nr∗i⋅(cos⁡∑∗i=1nθ∗i+isin⁡∑∗i=1nθi) .\prod*{i=1}^{n}z_i = \prod*{i=1}^{n}r*i\cdot\left(\cos\sum*{i=1}^{n}\theta*i+\text{i}\sin\sum*{i=1}^{n}\theta_i\right) ~. 
∏∗i=1nzi​=∏∗i=1nr∗i⋅(cos∑∗i=1nθ∗i+isin∑∗i=1nθi​) .
这称为一般的棣莫弗公式 .
若令 z1=z2=⋯=zn=z=r(cos⁡θ+isin⁡θ)z_1=z_2=\cdots=z_n=z=r(\cos\theta+\text{i}\sin\theta)z1​=z2​=⋯=zn​=z=r(cosθ+isinθ)，则有
zn=[r(cos⁡θ+isin⁡θ)]n=rn(cos⁡nθ+isin⁡nθ) .z^n = \big[r(\cos\theta+\text{i}\sin\theta)\big]^n = r^n(\cos n\theta+\text{i}\sin n\theta) ~. 
zn=[r(cosθ+isinθ)]n=rn(cosnθ+isinnθ) .
即为复数的乘方公式 . 其为棣莫弗公式的一个特例 .
3.5 欧拉公式 复数的指数形式

欧拉 (Euler) 对复数进行了系统研究后，得出欧拉公式 (Euler’s formula)：
eiθ=cos⁡θ+isin⁡θ .\text{e}^{\text{i}\theta} = \cos\theta+\text{i}\sin\theta ~. 
eiθ=cosθ+isinθ .
当 θ=π\theta=\piθ=π 时，即为著名的欧拉恒等式：
eiπ=−1 .\text{e}^{\text{i}\pi} = -1 ~. 
eiπ=−1 .
欧拉证明此公式时，使用了此方法（方法一），而促进了复数域指数函数（exp⁡z\exp zexpz 等）的产生 . 但由于复数域中的泰勒展开等运算均需用到欧拉公式，故此一方法会造成循环论证，而不能作为证明，只能作为一种“验证方法” .
下面证明过程引自 Wikipedia：

首先，在复数域上对 exe^xex 进行定义：

对于 a,b∈R,c=a+bi∈Ca,b\in\Bbb{R},c=a+b\text{i}\in\Bbb{C}a,b∈R,c=a+bi∈C，规定 ec=lim⁡n→∞(1+cn)n\text{e}^c=\lim\limits_{n\to\infty}\left(1+\dfrac{c}{n}\right)^nec=n→∞lim​(1+nc​)n .

对复数的三角形式 w=u+vi=r(cos⁡θ+isin⁡θ)w=u+v\text{i}=r(\cos\theta+\text{i}\sin\theta)w=u+vi=r(cosθ+isinθ)，有：
r=u2+v2∈R,θ=arctan⁡(vu)∈R .r=\sqrt{u^2+v^2}\in\Bbb{R},\theta=\arctan\left(\frac{v}{u}\right)\in\Bbb{R} ~. 
r=u2+v2​∈R,θ=arctan(uv​)∈R .
且根据棣莫弗公式，wn=(u+vi)n=rn(cos⁡nθ+isin⁡nθ)w^n=(u+v\text{i})^n=r^n(\cos n\theta+\text{i}\sin n\theta)wn=(u+vi)n=rn(cosnθ+isinnθ) .
从而有：
(1+a+bin)=[(1+an)+i⋅bn]=rn(cos⁡θn+isin⁡θn) .\left(1+\frac{a+b\text{i}}{n}\right) = \left[\left(1+\frac{a}{n}\right)+\text{i}\cdot\frac{b}{n}\right] = r_n(\cos\theta_n+\text{i}\sin\theta_n) ~. 
(1+na+bi​)=[(1+na​)+i⋅nb​]=rn​(cosθn​+isinθn​) .
假设 n&gt;∣a∣n&gt;\lvert a\rvertn&gt;∣a∣，则：
rn=[(1+an)+(bn)2]n2,θn=narctan⁡bn1+an .r_n=\left[\left(1+\frac{a}{n}\right)+\left(\frac{b}{n}\right)^2\right]^{\frac{n}{2}},\theta_n=n\arctan\frac{\frac{b}{n}}{1+\frac{a}{n}} ~. 
rn​=[(1+na​)+(nb​)2]2n​,θn​=narctan1+na​nb​​ .
为除去幂上的 nnn，两边取对数得
lim⁡n→∞ln⁡rn=lim⁡n→∞[n2ln⁡(1+2an+a2+b2n2)]=lim⁡n→∞[n2(2an+a2+b2n2)]=a .\begin{aligned}
\lim\limits_{n\to\infty}\ln r_n
&amp;= \lim\limits_{n\to\infty}\left[\frac{n}{2}\ln\left(1+\frac{2a}{n}+\frac{a^2+b^2}{n^2}\right)\right] \\
&amp;= \lim\limits_{n\to\infty}\left[\frac{n}{2}\left(\frac{2a}{n}+\frac{a^2+b^2}{n^2}\right)\right] \\
&amp;= a ~.
\end{aligned}
n→∞lim​lnrn​​=n→∞lim​[2n​ln(1+n2a​+n2a2+b2​)]=n→∞lim​[2n​(n2a​+n2a2+b2​)]=a .​
这一步骤用到 ln⁡(1+x)≈x\ln(1+x)\approx xln(1+x)≈x（墨卡托级数）.
即：
lim⁡n→∞rn=lim⁡n→∞eln⁡rn=ea .\lim\limits_{n\to\infty}r_n = \lim\limits_{n\to\infty}\text{e}^{\ln r_n} = \text{e}^a ~.
n→∞lim​rn​=n→∞lim​elnrn​=ea .
又有（arctan⁡x\arctan xarctanx 在 000 附近约等于 000）：
lim⁡n→∞θn=lim⁡n→∞(narctan⁡bn1+an)=lim⁡n→∞(n⋅bn1+an)=b .\begin{aligned}
\lim\limits_{n\to\infty}\theta_n
&amp;= \lim\limits_{n\to\infty}\left(n\arctan\frac{\frac{b}{n}}{1+\frac{a}{n}}\right) \\
&amp;= \lim\limits_{n\to\infty}\left(n\cdot\frac{\frac{b}{n}}{1+\frac{a}{n}}\right) \\
&amp;= b ~.
\end{aligned}
n→∞lim​θn​​=n→∞lim​(narctan1+na​nb​​)=n→∞lim​(n⋅1+na​nb​​)=b .​
从而可以证明：
lim⁡n→∞(1+a+bin)n=ea(cos⁡b+isin⁡b) .\lim\limits_{n\to\infty}\left(1+\frac{a+b\text{i}}{n}\right)^n = \text{e}^a(\cos b+\text{i}\sin b) ~.
n→∞lim​(1+na+bi​)n=ea(cosb+isinb) .
即：
ea+ib=ea(cos⁡b+isin⁡b) .\text{e}^{a+\text{i}b} = \text{e}^a(\cos b+\text{i}\sin b) ~. 
ea+ib=ea(cosb+isinb) .
令 a=0a=0a=0，可得欧拉公式 .
证毕 .

利用欧拉公式与复数的三角形式，可以得到：
z=a+bi=r(cos⁡θ+isin⁡θ)=reiθ .z=a+b\text{i}=r(\cos\theta+\text{i}\sin\theta)=r\text{e}^{\text{i}\theta} ~. 
z=a+bi=r(cosθ+isinθ)=reiθ .
z=reiθz=r\text{e}^{\text{i}\theta}z=reiθ 称为复数 zzz 的指数形式 (exponential form of complex numbers) .
复数的三角形式与指数形式由于都用模 rrr 与辐角 θ\thetaθ 表示复数，故又称为复数的极坐标形式 (polar form of complex numbers)；同样的，复数的代数形式又称为复数的直角坐标形式 (cartesian form of complex numbers) .
]]></content>
      <categories>
        <category>notes</category>
      </categories>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/post/hello-world/</url>
    <content><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick Start
Create a new post
$ hexo new &quot;My New Post&quot;
More info: Writing
Run server
$ hexo server
More info: Server
Generate static files
$ hexo generate
More info: Generating
Deploy to remote sites
$ hexo deploy
More info: Deployment
]]></content>
  </entry>
  <entry>
    <title>中线定理的几种证明</title>
    <url>/post/pappus-law/</url>
    <content><![CDATA[中线定理
如图，在 △ABC\triangle ABC△ABC 中，DDD 是 BCBCBC 的中点，则有
AB2+AC2=2AD2+12BC2=2AD2+2BD2=2AD2+2CD2 .AB^2+AC^2 = 2AD^2+\frac{1}{2}BC^2 = 2AD^2+2BD^2 = 2AD^2+2CD^2 ~. 
AB2+AC2=2AD2+21​BC2=2AD2+2BD2=2AD2+2CD2 .
即三角形一条中线两侧所对的边平方和等于底边平方的一半与该边中线平方的两倍的和 .


以下讨论中，设 AD=x,AB=c,AC=b,BC=aAD=x,AB=c,AC=b,BC=aAD=x,AB=c,AC=b,BC=a，原命题即化为
b2+c2=2x2+12a2 .b^2+c^2 = 2x^2+\frac{1}{2}a^2 ~. 
b2+c2=2x2+21​a2 .
第 1 种（繁）

如图，在 △ABC\triangle ABC△ABC 中，有 AD→=AB→+BD→=AC→+CD→\overrightarrow{AD}=\overrightarrow{AB}+\overrightarrow{BD}=\overrightarrow{AC}+\overrightarrow{CD}AD=AB+BD=AC+CD .
于是有
AD→⋅AD→=(AB→+BD→)⋅(AC→+CD→)∣AD→∣2=AB→⋅AC→+AB→⋅CD→+BD→⋅AC→+BD→⋅CD→∣AD→∣2=∣AB→∣∣AC→∣cos⁡A+∣AB→∣∣CD→∣cos⁡B+∣BD→∣∣AC→∣cos⁡C−∣BD→∣∣CD→∣x2=bccos⁡A+12accos⁡B+12abcos⁡C−14a22x2=2bccos⁡A+accos⁡B+abcos⁡C−12a2 .\begin{aligned}
\overrightarrow{AD}\cdot\overrightarrow{AD} &amp; = (\overrightarrow{AB}+\overrightarrow{BD})\cdot(\overrightarrow{AC}+\overrightarrow{CD})\\
\left\lvert\overrightarrow{AD}\right\rvert^2 &amp; = \overrightarrow{AB}\cdot\overrightarrow{AC}+\overrightarrow{AB}\cdot\overrightarrow{CD}+\overrightarrow{BD}\cdot\overrightarrow{AC}+\overrightarrow{BD}\cdot\overrightarrow{CD}\\
\left\lvert\overrightarrow{AD}\right\rvert^2 &amp; = \left\lvert\overrightarrow{AB}\right\rvert\left\lvert\overrightarrow{AC}\right\rvert\cos A+\left\lvert\overrightarrow{AB}\right\rvert\left\lvert\overrightarrow{CD}\right\rvert\cos B+\left\lvert\overrightarrow{BD}\right\rvert\left\lvert\overrightarrow{AC}\right\rvert\cos C-\left\lvert\overrightarrow{BD}\right\rvert\left\lvert\overrightarrow{CD}\right\rvert\\
x^2 &amp; = bc\cos A + \frac{1}{2}ac\cos B + \frac{1}{2}ab\cos C - \frac{1}{4}a^2\\
2x^2 &amp; = 2bc\cos A + ac\cos B + ab\cos C - \frac{1}{2}a^2 ~.
\end{aligned}
AD⋅AD​AD​2​AD​2x22x2​=(AB+BD)⋅(AC+CD)=AB⋅AC+AB⋅CD+BD⋅AC+BD⋅CD=​AB​​AC​cosA+​AB​​CD​cosB+​BD​​AC​cosC−​BD​​CD​=bccosA+21​accosB+21​abcosC−41​a2=2bccosA+accosB+abcosC−21​a2 .​
由余弦定理
bccos⁡A=b2+c2−a22 ,accos⁡B=a2+c2−b22 ,abcos⁡C=a2+b2−c22 .\begin{aligned}
bc\cos A &amp; = \frac{b^2+c^2-a^2}{2} ~,\\
ac\cos B &amp; = \frac{a^2+c^2-b^2}{2} ~,\\
ab\cos C &amp; = \frac{a^2+b^2-c^2}{2} ~.
\end{aligned}
bccosAaccosBabcosC​=2b2+c2−a2​ ,=2a2+c2−b2​ ,=2a2+b2−c2​ .​
代入，得
2x2=b2+c2−a2+12a2+12c2−12b2+12a2+12b2−12c2−12a2 .\begin{aligned}
2x^2 &amp; = b^2+c^2-a^2+\frac{1}{2}a^2+\frac{1}{2}c^2-\frac{1}{2}b^2+\frac{1}{2}a^2+\frac{1}{2}b^2-\frac{1}{2}c^2-\frac{1}{2}a^2 ~.
\end{aligned}
2x2​=b2+c2−a2+21​a2+21​c2−21​b2+21​a2+21​b2−21​c2−21​a2 .​
即
2x2=b2+c2−12a2 .\begin{aligned}
2x^2 &amp; = b^2+c^2-\frac{1}{2}a^2 ~.
\end{aligned}
2x2​=b2+c2−21​a2 .​
即
b2+c2=2x2+12a2 .\begin{aligned}
b^2+c^2 &amp; = 2x^2+\frac{1}{2}a^2 ~.
\end{aligned}
b2+c2​=2x2+21​a2 .​
第 2 种（余弦定理）
在 △ABD\triangle ABD△ABD 与 △ABC\triangle ABC△ABC 中，由余弦定理可得
{a2+c2−b2=2accos⁡B(1)14a2+c2−x2=accos⁡B(2)\begin{cases}
a^2+c^2-b^2 = 2ac\cos B &amp; (1)\\
\frac{1}{4}a^2+c^2-x^2 = ac\cos B &amp; (2)
\end{cases}
{a2+c2−b2=2accosB41​a2+c2−x2=accosB​(1)(2)​
(2)×2−(1)(2)\times 2-(1)(2)×2−(1) 可得
−12a2+c2+b2−2x2=0 .\begin{aligned}
-\frac{1}{2}a^2+c^2+b^2-2x^2 &amp; = 0 ~.
\end{aligned}
−21​a2+c2+b2−2x2​=0 .​
即
b2+c2=2x2+12a2 .\begin{aligned}
b^2+c^2 &amp; = 2x^2+\frac{1}{2}a^2 ~.
\end{aligned}
b2+c2​=2x2+21​a2 .​
在 △ACD\triangle ACD△ACD 与 △ABC\triangle ABC△ABC 中，相似的推理可得相同结论 .
第 3 种（作高）

如图，作 AE⊥BCAE\perp BCAE⊥BC 于 EEE .
若 EEE 在 DDD 的左侧，设 AE=h,BE=yAE=h,BE=yAE=h,BE=y，有
{h2+y2=c2(1)h2+(12a−y)2=x2  ⟺  h2−14a2−ay+y2=x2(2)h2+(a−y)2=b2  ⟺  h2+a2−2ay+y2=b2(3)\begin{cases}
h^2+y^2=c^2 &amp; (1)\\
h^2+(\frac{1}{2}a-y)^2=x^2 \iff h^2-\frac{1}{4}a^2-ay+y^2=x^2 &amp; (2) \\
h^2+(a-y)^2=b^2 \iff h^2+a^2-2ay+y^2=b^2 &amp; (3)
\end{cases}
⎩⎨⎧​h2+y2=c2h2+(21​a−y)2=x2⟺h2−41​a2−ay+y2=x2h2+(a−y)2=b2⟺h2+a2−2ay+y2=b2​(1)(2)(3)​
(1)+(3)−(2)×2(1)+(3)-(2)\times 2(1)+(3)−(2)×2 得
(h2+y2)+(h2+a2−2ay+y2)−2(h2+14a2−ay+y2)=b2+c2−2x2 .\begin{aligned}
(h^2+y^2)+(h^2+a^2-2ay+y^2)-2(h^2+\frac{1}{4}a^2-ay+y^2) &amp; = b^2+c^2-2x^2 ~.
\end{aligned}
(h2+y2)+(h2+a2−2ay+y2)−2(h2+41​a2−ay+y2)​=b2+c2−2x2 .​
即
−12a2=b2+c2−2x2 .\begin{aligned}
-\frac{1}{2}a^2 &amp; = b^2+c^2-2x^2 ~.
\end{aligned}
−21​a2​=b2+c2−2x2 .​
即
b2+c2=2x2+12a2 .\begin{aligned}
b^2+c^2 &amp; = 2x^2+\frac{1}{2}a^2 ~.
\end{aligned}
b2+c2​=2x2+21​a2 .​
]]></content>
      <categories>
        <category>notes</category>
      </categories>
  </entry>
  <entry>
    <title>洛谷 P1131 题解</title>
    <url>/post/luogu-p1131-editorial/</url>
    <content><![CDATA[传送门
题意
有一棵 nnn 个节点的以 sss 为根的树。每条树边都有一个长度。每次操作可以把一条树边的长度加 111。
问：至少操作多少次，可以使根节点到每个叶子节点的距离相等。
结论 111
对于任意子树，其根节点到其每个叶子节点的距离相等。

证明：
反证法。
设对于根为 RRR 的树的根为 rrr 的某一子树，有两个叶子 aaa、bbb 到 rrr 的距离不等。
那么不妨设节点 xxx 与 yyy 间的距离为 dis(x,y)dis(x,y)dis(x,y)，则有
dis(a,r)≠dis(b,r)dis(a,r)\not=dis(b,r)
dis(a,r)=dis(b,r)
所以
dis(a,r)+dis(r,R)≠dis(b,r)+dis(r,R)dis(a,r)+dis(r,R)\not=dis(b,r)+dis(r,R)
dis(a,r)+dis(r,R)=dis(b,r)+dis(r,R)
得
dis(a,R)≠dis(b,R)dis(a,R)\not=dis(b,R)
dis(a,R)=dis(b,R)
即 aaa、bbb 到 RRR 的距离不等。这与题目条件矛盾，所以命题成立。

解法
既然结论 111 成立，那么先从最简单的情况入手。
如图，在这一棵以 111 为根的树中，在操作后，根节点 111 到叶子的距离最小是几？

很明显的，这个值应该是所有叶子到根的所有距离的最大值。
那么对于每个节点都实行此原则，就结束了。
Code：
#include &lt;bits/stdc++.h&gt;using namespace std;using uint = unsigned;using ll = long long;using ull = unsigned long long;using pii = pair&lt;int,int&gt;;using pll = pair&lt;ll,ll&gt;;#define int llint hd[500005&lt;&lt;1],nxt[500005&lt;&lt;1],to[500005&lt;&lt;1],we[500005&lt;&lt;1],et=0;inline void adde(int u,int v,int w) &#123; ++et,to[et]=v,we[et]=w,nxt[et]=hd[u],hd[u]=et; &#125;int n,s,ans,dp[500005];void dfs(int u,int fa) &#123;    int mx=0,tot=0;    for(int i=hd[u],v,t; v=to[i],t=we[i],i; i=nxt[i]) &#123;        if(v==fa) continue;        dfs(v,u);        if(dp[v]+t&gt;mx) &#123;            ans+=(dp[v]+t-mx)*tot;            mx=dp[v]+t;        &#125; else ans+=(mx-dp[v]-t);        ++tot;    &#125;    dp[u]=mx;&#125;signed main() &#123;    cin&gt;&gt;n&gt;&gt;s;    for(int i=1; i&lt;n; ++i) &#123;        int u,v,t;        cin&gt;&gt;u&gt;&gt;v&gt;&gt;t;        adde(u,v,t); adde(v,u,t);    &#125;    dfs(s,0);    cout&lt;&lt;ans&lt;&lt;endl;&#125;
]]></content>
      <categories>
        <category>editorial</category>
      </categories>
  </entry>
  <entry>
    <title>OI 名言</title>
    <url>/post/well-known-OI-sayings/</url>
    <content><![CDATA[《OI 子》三章

《骗分榜一，暴力爆零》by 20210732ktq
正解不如暴力，暴力不如骗分。一道题目，两种做法，想而编之而WA。夫想而编之，必有得正解者矣，然而WA者，是正解不如暴力也。手非不酸也，码非不短也，部分分非不多也，暴力非不正确也，排名第二，是暴力不如骗分也。故曰，AC不以思路之深，暴力不以代码之短，首杀不以手速之快。骗分者榜一，暴力者爆零。爆零之至，老师骂之。榜一之至，全球膜之。以全球之所膜，攻教练之所骂，故OIer有不战，战必AK。


《水题不能淫》by 20210927chr
chr曰：“ktq，xcx岂不诚奆佬哉？骗分而OIers惧，正解而OI熄。”
xrz曰：“是焉得为奆佬乎？子未学OI乎？奆佬之冠也，zc命之，蒟蒻之冠也，ls命之，往送之CSP，戒之曰：‘往之CSP，必敬必戒，无违考规！’以骗为正者，蒟蒻之道也。做天下之难题，写天下之正解，AK天下之比赛。AK，与OIers由之；不AK，自己切题。水题不能淫，难题不能移，毒瘤不能屈，此之谓奆佬。”


《生于练习，死于退费》by 20211202lxy
轩发于范赵之中，Sai_t举于richup之间，澜译举于冰火之中，孔韬棋举于gen，项承煦举于florr，蒋亦霖举于ma，故天将降大任于是人也，必先苦其射飞，劳其破产，饿其王塔，空乏连击，行拂乱其所为，使其停止退费，曾益其所不会。
人恒错，然后能改；减于空，缩于时，而后过；骗于分，暴于力，而后涨。入则无暴力骗分，出则无AC过题者，人恒寄。然后知生于练习而死于退费也。

]]></content>
      <categories>
        <category>others</category>
      </categories>
  </entry>
</search>
